<!DOCTYPE html>
<html>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<link href="nav.css" rel="stylesheet">
<script src="http://127.0.0.1:8081/nav-script.js" type="text/javascript" defer></script>
<style>
    * {
        box-sizing: border-box;
        font-family: Arial;
    }
    
    .main {
        width: 100%;
        justify-content: space-between;
    }


    h1{
        color: #0097A7; 
        text-align: center;
        font-size: 2.5em;
        padding: 0px;
    }

    .table-data table {
        width: 100%;
        border-collapse: collapse;
    }

    .table-data th,
    .table-data td {
        border: 1px solid blue;
        padding: 8px;
        text-align: left;
    }

    .table-data {
            max-height: 450px;
            overflow-y: auto; /* Enable vertical scroll */
        }
    .table-data th {
        background-color: #f2f2f2;
    }

    .table-data tr:nth-child(even) {
        background-color: #f2f2f2;
    }

    .table-scroll {
        max-height: 300px;
        overflow-y: auto;
    }

    .table-scroll table {
        width: 100%;
        border-collapse: collapse;
    }

   
    .table-scroll td {
        border: 1px solid #ddd;
        padding: 8px;
        text-align: left;
    }
    .table-scroll th {
        border: 1px solid #ddd;
        text-align: left;
        padding: 3px
    }

    .table-scroll th {
        background-color: #f2f2f2;
    }

    .table-scroll tr:nth-child(even) {
        background-color: #f2f2f2;
    }


    .row {
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 0 5px;
    }

    .card {
        width: 150px;
        border: 1px solid black;
        border-radius: 4px;
        overflow: hidden;
        margin: 10px;
        position: relative;
    }

    .card-header {
        color: #0097A7;
        text-align: center;
        font-size: 12px;
        font-weight: 600;
        border-bottom: 1px solid #80DEEA;
        background-color: #E0F7FA;
        padding: 5px 10px;

    }

    .card-main {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        padding: 15px 0;
    }

    .material-icons {
        font-size: 36px;
        color: #000000;
        margin-bottom: 5px;
    }

    .card-link {
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        width: 100%;
    }
</style>

<head>
    <title>Home</title>
</head>

<body>
    <button onclick="window.location = '/login'">Logout</button>  <!-- The back button: Takes back to the very previous page/path visited -->
    <navigation-bar></navigation-bar>
    <h1>Dashboard - Asset Inventory</h1>
    <div class="main">
        <div class="table-scroll">
            <div class="table-data">
        <div class="asset_stats">
            <table>
                <tr>
                    <th>Asset ID</th>
                    <th>Asset Type</th>
                    <th>Status</th>
                    <th>Employee ID</th>
                    <th>Employee Name</th>
                    <th>Location</th>
                </tr>
                <!-- Start of embedded JavaScript code -->
                <% var j = 0; %>  <!--variable declaration-->
                <!-- for loop -->
                <% if(assets.length > 0) { 
                    for(var i = 0; i < assets.length; i++) { %>  
                    <tr>
                        <td><%= assets[i].asset_id %></td> <!-- Data rendering on web page using ejs-->
                        <td><%= assets[i].asset_category %></td>
                        <td><%= assets[i].asset_status %></td>
                        <td><% if(employee[j] && (assets[i].asset_status == 'Unavailable' || assets[i].asset_status == 'Allotted')) {%> 
                            <%= employee[j]; %> 
                            <% j++; %>   <%} %> </td>
                        <td>--</td>
                        <td><%= assets[i].stock_loc_id %></td>
                    </tr>
                    <% };
                    
                } else { %>
                    <tr colspan="6">No Data Found</tr>
                <%} %>
            </table>
            </div>
            </div>
        </div>
            <div style="margin-top: 40px" class="row">
                <!-- CARD 1 -->
                <div class="card">
                    <div class="card-header">Asset</div>
                    <div class="card-main">
                        <i class="material-icons">laptop</i>
                        <a href="/assets" class="card-link"></a>
                    </div>
                </div>
                <!-- CARD 2 -->
                <div class="card">
                    <div class="card-header">Employee</div>
                    <div class="card-main">
                        <i class="material-icons">badge</i>
                        <a href="/employee" class="card-link"></a>
                    </div>
                </div>
                <!-- CARD 3 -->
                <div class="card">
                    <div class="card-header">Department</div>
                    <div class="card-main">
                        <i class="material-icons">business</i>
                        <a href="/department" class="card-link"></a>
                    </div>
                </div>
                <!-- CARD 4 -->
                <div class="card">
                    <div class="card-header">Location</div>
                    <div class="card-main">
                        <i class="material-icons">location_pin</i>
                        <a href="/location" class="card-link"></a>
                    </div>
                </div>
                <!-- CARD 5 -->
                <div class="card">
                    <div class="card-header">Approvers</div>
                    <div class="card-main">
                        <i class="material-icons">how_to_reg</i>
                        <a href="/approvers" class="card-link"></a>
                    </div>
                </div>
            </div>
            <div class="row">
                <!-- CARD 6 -->
                <div class="card">
                    <div class="card-header">Requests</div>
                    <div class="card-main">
                        <i class="material-icons">request_page</i>
                        <a href="/requests" class="card-link"></a>
                    </div>
                </div>
                <!-- CARD 7 -->
                <div class="card">
                    <div class="card-header">Users</div>
                    <div class="card-main">
                        <i class="material-icons">group</i>
                        <a href="/users" class="card-link"></a>
                    </div>
                </div>
                <!-- CARD 8 -->
                <div class="card">
                    <div class="card-header">Approvals</div>
                    <div class="card-main">
                        <i class="material-icons">group</i>
                        <a href="/approval/<%=EmpID%>" class="card-link"></a>
                    </div>
                </div>
            </div>
       </div>
</body>

</html>